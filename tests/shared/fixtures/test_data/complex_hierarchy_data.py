"""Complex multi-level sub-issue hierarchy data fixture for testing."""

import pytest


@pytest.fixture
def complex_hierarchy_data():
    """Complex multi-level sub-issue hierarchy data."""
    return {
        "issues": [
            {
                "id": 4001,
                "number": 1,
                "title": "Grandparent Issue",
                "body": "Top-level issue with complex hierarchy",
                "state": "open",
                "user": {
                    "login": "alice",
                    "id": 3001,
                    "avatar_url": "https://github.com/alice.png",
                    "html_url": "https://github.com/alice",
                },
                "assignees": [],
                "labels": [],
                "created_at": "2023-01-15T10:30:00Z",
                "updated_at": "2023-01-15T14:20:00Z",
                "closed_at": None,
                "html_url": "https://github.com/owner/repo/issues/1",
                "comments": 0,
            },
            {
                "id": 4002,
                "number": 2,
                "title": "Parent Issue A",
                "body": "First parent under grandparent",
                "state": "open",
                "user": {
                    "login": "bob",
                    "id": 3002,
                    "avatar_url": "https://github.com/bob.png",
                    "html_url": "https://github.com/bob",
                },
                "assignees": [],
                "labels": [],
                "created_at": "2023-01-16T09:00:00Z",
                "updated_at": "2023-01-16T09:00:00Z",
                "closed_at": None,
                "html_url": "https://github.com/owner/repo/issues/2",
                "comments": 0,
            },
            {
                "id": 4003,
                "number": 3,
                "title": "Parent Issue B",
                "body": "Second parent under grandparent",
                "state": "open",
                "user": {
                    "login": "charlie",
                    "id": 3003,
                    "avatar_url": "https://github.com/charlie.png",
                    "html_url": "https://github.com/charlie",
                },
                "assignees": [],
                "labels": [],
                "created_at": "2023-01-17T10:00:00Z",
                "updated_at": "2023-01-17T10:00:00Z",
                "closed_at": None,
                "html_url": "https://github.com/owner/repo/issues/3",
                "comments": 0,
            },
            {
                "id": 4004,
                "number": 4,
                "title": "Child Issue A1",
                "body": "Child under Parent A",
                "state": "open",
                "user": {
                    "login": "alice",
                    "id": 3001,
                    "avatar_url": "https://github.com/alice.png",
                    "html_url": "https://github.com/alice",
                },
                "assignees": [],
                "labels": [],
                "created_at": "2023-01-18T11:00:00Z",
                "updated_at": "2023-01-18T11:00:00Z",
                "closed_at": None,
                "html_url": "https://github.com/owner/repo/issues/4",
                "comments": 0,
            },
            {
                "id": 4005,
                "number": 5,
                "title": "Child Issue B1",
                "body": "Child under Parent B",
                "state": "closed",
                "user": {
                    "login": "bob",
                    "id": 3002,
                    "avatar_url": "https://github.com/bob.png",
                    "html_url": "https://github.com/bob",
                },
                "assignees": [],
                "labels": [],
                "created_at": "2023-01-19T12:00:00Z",
                "updated_at": "2023-01-20T16:30:00Z",
                "closed_at": "2023-01-20T16:30:00Z",
                "html_url": "https://github.com/owner/repo/issues/5",
                "comments": 0,
            },
        ],
        "sub_issues": [
            # Grandparent -> Parent relationships
            {
                "sub_issue_id": 4002,
                "sub_issue_number": 2,
                "parent_issue_id": 4001,
                "parent_issue_number": 1,
                "position": 1,
            },
            {
                "sub_issue_id": 4003,
                "sub_issue_number": 3,
                "parent_issue_id": 4001,
                "parent_issue_number": 1,
                "position": 2,
            },
            # Parent -> Child relationships
            {
                "sub_issue_id": 4004,
                "sub_issue_number": 4,
                "parent_issue_id": 4002,
                "parent_issue_number": 2,
                "position": 1,
            },
            {
                "sub_issue_id": 4005,
                "sub_issue_number": 5,
                "parent_issue_id": 4003,
                "parent_issue_number": 3,
                "position": 1,
            },
        ],
        "comments": [],
        "labels": [],
        "pull_requests": [],
        "pr_comments": [],
    }