"""Entity configuration for {{ entity_name }}.

This file was auto-generated by src/tools/generate_entity.py
"""
from typing import Union, Set, Optional, Any
from src.entities.base import EntityConfig


class {{ class_name }}(EntityConfig):
    """{{ description }}

    Auto-discovered by naming convention: *EntityConfig
    """

    name = "{{ entity_name }}"
    env_var = "{{ env_var }}"
    default_value = {{ default_value }}
    value_type = {{ value_type }}
    {% if dependencies %}
    dependencies = {{ dependencies }}
    {% else %}
    dependencies = []
    {% endif %}
    description = "{{ description }}"

    @staticmethod
    def create_save_strategy(**context: Any) -> Optional[Any]:
        """Create save strategy instance.

        Default implementation: instantiate with no arguments.
        Override this method if your strategy requires dependencies from context.

        Available context keys:
            - git_service: GitRepositoryService instance

        Args:
            **context: Available dependencies

        Returns:
            Strategy instance or None if not applicable
        """
        from src.entities.{{ entity_name }}.save_strategy import {{ save_strategy_class }}
        return {{ save_strategy_class }}()

    @staticmethod
    def create_restore_strategy(**context: Any) -> Optional[Any]:
        """Create restore strategy instance.

        Default implementation: instantiate with no arguments.
        Override this method if your strategy requires dependencies from context.

        Available context keys:
            - git_service: GitRepositoryService instance
            - conflict_strategy: Strategy for handling conflicts
            - include_original_metadata: Whether to preserve original metadata

        Args:
            **context: Available dependencies

        Returns:
            Strategy instance or None if not applicable
        """
        from src.entities.{{ entity_name }}.restore_strategy import {{ restore_strategy_class }}
        return {{ restore_strategy_class }}()
